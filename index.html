<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Color Picker Coolors Style</title>

<link href="https://fonts.googleapis.com/css2?family=League+Spartan&display=swap" rel="stylesheet" />

<style>
  body {
    font-family: 'League Spartan', sans-serif;
    background: #fafafa;
    color: #333;
    padding: 30px;
    text-align: center;
  }
  h1 {
    font-weight: 700;
    margin-bottom: 40px;
  }
  #picker {
    margin: 0 auto;
    width: 320px;
    height: 320px;
  }
#selectedColor {
  margin-top: 50px; /* más espacio desde el slider */
  font-size: 1.6rem;
  font-weight: 700;
}

#swatchContainer {
  margin-top: 15px;
  display: flex;
  justify-content: center;
}

#colorSwatch {
  width: 160px;
  height: 90px;
  border-radius: 12px;
  border: 2px solid #222;
  box-shadow: 0 2px 10px rgba(0,0,0,0.12);
  transition: background-color 0.3s ease, border-color 0.3s ease;
  }
  #warning {
    margin-top: 15px;
    color: #b22222;
    font-weight: 700;
    font-size: 1.1rem;
    display: none;
  }
</style>
</head>
<body>

<div id="picker"></div>

<div id="selectedColor">Selected color: #FF5733</div>
<div id="swatchContainer" aria-label="Selected color preview">
  <div id="colorSwatch"></div>
</div>

<div id="warning">⚠️ Warning: This color is very light. Recommended only for shirts on dark backgrounds.</div>

<script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
<script>
  const INITIAL_COLOR = "#FF5733";

  const picker = new iro.ColorPicker('#picker', {
    width: 320,
    borderWidth: 1,
    borderColor: "#ddd",
    layout: [
      { component: iro.ui.Wheel, options: {} },
      { component: iro.ui.Slider, options: { sliderType: 'value' } }
    ],
    color: INITIAL_COLOR
  });

  const selectedColorText = document.getElementById('selectedColor');
  const warningText = document.getElementById('warning');
  const colorSwatch = document.getElementById('colorSwatch');

  function getLuminance(hex) {
    const r = parseInt(hex.substr(1,2),16) / 255;
    const g = parseInt(hex.substr(3,2),16) / 255;
    const b = parseInt(hex.substr(5,2),16) / 255;
    const a = [r,g,b].map(v => v <= 0.03928 ? v/12.92 : Math.pow((v+0.055)/1.055, 2.4));
    return 0.2126*a[0] + 0.7152*a[1] + 0.0722*a[2];
  }

  function updateUI(hex) {
    selectedColorText.textContent = `Selected color: ${hex}`;
    colorSwatch.style.backgroundColor = hex;

    const lum = getLuminance(hex);
    // Borde oscuro si el color es claro; borde claro si es oscuro
    colorSwatch.style.borderColor = lum > 0.6 ? "#222" : "#eee";

    // Advertencia para colores muy claros
    warningText.style.display = lum > 0.8 ? 'block' : 'none';
  }

  // Inicializa el swatch y el texto
  updateUI(INITIAL_COLOR);

  picker.on('color:change', (color) => {
    const hex = color.hexString.toUpperCase();
    updateUI(hex);
  });
</script>

</body>
</html>
